{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = {\n  feedbackForm: document.querySelector('.feedback-form')\n}\n\nlet formData = {\n  email: \"\",\n  message: \"\"\n}\n\nconst fillFormFields = (feedbackForm) => {\n  try {\n    const formDataFromLS = JSON.parse(localStorage.getItem('feedback-form-state'));\n\n    if (formDataFromLS === null) {\n      return;\n    }\n\n    formData = formDataFromLS;\n\n    const formDataKeys = Object.keys(formDataFromLS);\n\n    formDataKeys.forEach(key => {\n      feedbackForm.elements[key].value = formDataFromLS[key];\n\n    })\n\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfillFormFields(form.feedbackForm);\n\nconst onFieldInput = (event) => {\n  const formField = event.target;\n  const formFieldValue = formField.value;\n  const formFieldName = formField.name;\n\n  formData[formFieldName] = formFieldValue.trim();\n\n  localStorage.setItem(\"feedback-form-state\", JSON.stringify(formData))\n};\n\nconst onfeedbackFormSubmit = event => {\n  event.preventDefault();\n\n  if (!form.feedbackForm.elements.email.value ||\n    !form.feedbackForm.elements.message.value) {\n\n    alert('Fill please all fields');\n\n  } else {\n\n    console.log(formData);\n\n    form.feedbackForm.reset();\n    localStorage.removeItem('feedback-form-state');\n\n    formData = {\n      email: \"\",\n      message: \"\"\n    }\n  }\n}\n\nform.feedbackForm.addEventListener('input', onFieldInput);\nform.feedbackForm.addEventListener('submit', onfeedbackFormSubmit);\n"],"names":["form","formData","fillFormFields","feedbackForm","formDataFromLS","key","error","onFieldInput","event","formField","formFieldValue","formFieldName","onfeedbackFormSubmit"],"mappings":"wFAAA,MAAMA,EAAO,CACX,aAAc,SAAS,cAAc,gBAAgB,CACvD,EAEA,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEA,MAAMC,EAAkBC,GAAiB,CACvC,GAAI,CACF,MAAMC,EAAiB,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EAE7E,GAAIA,IAAmB,KACrB,OAGFH,EAAWG,EAEU,OAAO,KAAKA,CAAc,EAElC,QAAQC,GAAO,CAC1BF,EAAa,SAASE,CAAG,EAAE,MAAQD,EAAeC,CAAG,CAE3D,CAAK,CAEF,OAAQC,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,EAEAJ,EAAeF,EAAK,YAAY,EAEhC,MAAMO,EAAgBC,GAAU,CAC9B,MAAMC,EAAYD,EAAM,OAClBE,EAAiBD,EAAU,MAC3BE,EAAgBF,EAAU,KAEhCR,EAASU,CAAa,EAAID,EAAe,KAAI,EAE7C,aAAa,QAAQ,sBAAuB,KAAK,UAAUT,CAAQ,CAAC,CACtE,EAEMW,EAAuBJ,GAAS,CACpCA,EAAM,eAAc,EAEhB,CAACR,EAAK,aAAa,SAAS,MAAM,OACpC,CAACA,EAAK,aAAa,SAAS,QAAQ,MAEpC,MAAM,wBAAwB,GAI9B,QAAQ,IAAIC,CAAQ,EAEpBD,EAAK,aAAa,QAClB,aAAa,WAAW,qBAAqB,EAE7CC,EAAW,CACT,MAAO,GACP,QAAS,EACV,EAEL,EAEAD,EAAK,aAAa,iBAAiB,QAASO,CAAY,EACxDP,EAAK,aAAa,iBAAiB,SAAUY,CAAoB"}